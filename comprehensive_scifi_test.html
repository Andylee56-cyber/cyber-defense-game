<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§‘å¹»ç•Œé¢ç»¼åˆæµ‹è¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #0a0a2a;
            color: #ffffff;
            font-family: Arial, sans-serif;
        }
        
        .test-container {
            text-align: center;
            margin-bottom: 20px;
        }
        
        canvas {
            border: 1px solid #00ffff;
            background: #0a0a2a;
        }
        
        .info {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #00ffff;
            border-radius: 5px;
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .control-btn {
            padding: 10px 20px;
            background: linear-gradient(45deg, #00ffff, #0080ff);
            border: 2px solid #00ffff;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .control-btn:hover {
            background: linear-gradient(45deg, #0080ff, #0040ff);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2>ğŸ® ç§‘å¹»ç•Œé¢ç»¼åˆæµ‹è¯•</h2>
        <canvas id="testCanvas" width="800" height="600"></canvas>
        
        <div class="controls">
            <button class="control-btn" onclick="toggleCommander()">åˆ‡æ¢æŒ‡æŒ¥å®˜</button>
            <button class="control-btn" onclick="toggleThreats()">åˆ‡æ¢å¨èƒ</button>
            <button class="control-btn" onclick="toggleSidebar()">åˆ‡æ¢ä¾§è¾¹æ </button>
            <button class="control-btn" onclick="toggleKnowledge()">çŸ¥è¯†åº“</button>
        </div>
        
        <div class="info">
            <h3>âœ¨ ç§‘å¹»ç•Œé¢ç‰¹æ€§</h3>
            <ul>
                <li>ğŸ”µ æŒ‡æŒ¥å®˜ï¼šç§‘å¹»äº®è‰²åœ†åœˆï¼ŒåŠ¨æ€å…‰ç‚¹æ•ˆæœ</li>
                <li>ğŸ’« å¨èƒï¼šæµ…äº®è‰²ç§‘å¹»é£æ ¼ï¼Œäº’ç›¸åŒºåˆ†</li>
                <li>âšª ä¾§è¾¹æ ï¼šç§‘å¹»äº®è‰²é¢æ¿ï¼Œå‘å…‰è¾¹æ¡†</li>
                <li>ğŸŒŠ çŸ¥è¯†åº“ï¼šéšæ—¶å¯ç‚¹å‡»ï¼ŒåŠ¨æ€æ›´æ–°</li>
                <li>ğŸ¯ å¨èƒé—´éš”ï¼šç¼©çŸ­è‡³30å¸§ï¼Œé€Ÿåº¦åŠ å¿«</li>
            </ul>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('testCanvas');
        const ctx = canvas.getContext('2d');
        
        // æµ‹è¯•çŠ¶æ€
        let showCommander = true;
        let showThreats = true;
        let showSidebar = true;
        let showKnowledge = false;
        
        // æŒ‡æŒ¥å®˜ä½ç½®
        let commanderX = 400;
        let commanderY = 500;
        
        // å¨èƒä½ç½®
        const threats = [
            { x: 200, y: 100, type: 'phishing', color: '#ff6b9d' },
            { x: 400, y: 150, type: 'malware', color: '#ffb366' },
            { x: 600, y: 200, type: 'ddos', color: '#66ccff' },
            { x: 300, y: 250, type: 'data_leak', color: '#cc99ff' }
        ];
        
        // ç§‘å¹»åœ†åœˆç»˜åˆ¶å‡½æ•°
        function drawSciFiCircle(ctx, x, y, size, color = '#00ffff') {
            // åˆ›å»ºå¾„å‘æ¸å˜
            const gradient = ctx.createRadialGradient(x, y, 0, x, y, size);
            gradient.addColorStop(0, color);
            gradient.addColorStop(0.3, darkenColor(color, 0.2));
            gradient.addColorStop(0.7, darkenColor(color, 0.4));
            gradient.addColorStop(1, darkenColor(color, 0.6));
            
            // ç»˜åˆ¶ä¸»ä½“åœ†åœˆ
            ctx.fillStyle = gradient;
            ctx.shadowColor = color;
            ctx.shadowBlur = 15;
            ctx.beginPath();
            ctx.arc(x, y, size, 0, Math.PI * 2);
            ctx.fill();
            
            // ç»˜åˆ¶å‘å…‰è¾¹æ¡†
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.shadowBlur = 8;
            ctx.beginPath();
            ctx.arc(x, y, size, 0, Math.PI * 2);
            ctx.stroke();
            
            // ç»˜åˆ¶å†…éƒ¨è£…é¥°ç¯
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 1;
            ctx.shadowBlur = 5;
            ctx.beginPath();
            ctx.arc(x, y, size * 0.6, 0, Math.PI * 2);
            ctx.stroke();
            
            // ç»˜åˆ¶ä¸­å¿ƒç‚¹
            ctx.fillStyle = '#ffffff';
            ctx.shadowBlur = 3;
            ctx.beginPath();
            ctx.arc(x, y, 2, 0, Math.PI * 2);
            ctx.fill();
            
            // ç»˜åˆ¶åŠ¨æ€å…‰ç‚¹æ•ˆæœ
            const time = Date.now() * 0.005;
            const pulseSize = size * 0.3 + Math.sin(time) * 2;
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.globalAlpha = 0.6 + Math.sin(time) * 0.2;
            ctx.beginPath();
            ctx.arc(x, y, pulseSize, 0, Math.PI * 2);
            ctx.stroke();
            
            ctx.globalAlpha = 1;
        }
        
        // ç»˜åˆ¶å¨èƒ
        function drawThreat(ctx, x, y, type, color) {
            const size = 15;
            
            switch (type) {
                case 'phishing':
                    drawTriangle(ctx, x, y, size, color);
                    break;
                case 'malware':
                    drawSquare(ctx, x, y, size, color);
                    break;
                case 'ddos':
                    drawSciFiCircle(ctx, x, y, size, color);
                    break;
                case 'data_leak':
                    drawDiamond(ctx, x, y, size, color);
                    break;
            }
        }
        
        // ç»˜åˆ¶ä¸‰è§’å½¢
        function drawTriangle(ctx, x, y, size, color) {
            const gradient = ctx.createRadialGradient(x, y, 0, x, y, size);
            gradient.addColorStop(0, color);
            gradient.addColorStop(1, darkenColor(color, 0.4));
            
            ctx.fillStyle = gradient;
            ctx.shadowColor = color;
            ctx.shadowBlur = 10;
            ctx.beginPath();
            ctx.moveTo(x, y - size);
            ctx.lineTo(x - size, y + size);
            ctx.lineTo(x + size, y + size);
            ctx.closePath();
            ctx.fill();
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.shadowBlur = 5;
            ctx.stroke();
        }
        
        // ç»˜åˆ¶æ­£æ–¹å½¢
        function drawSquare(ctx, x, y, size, color) {
            const gradient = ctx.createRadialGradient(x, y, 0, x, y, size);
            gradient.addColorStop(0, color);
            gradient.addColorStop(1, darkenColor(color, 0.4));
            
            ctx.fillStyle = gradient;
            ctx.shadowColor = color;
            ctx.shadowBlur = 10;
            ctx.fillRect(x - size, y - size, size * 2, size * 2);
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.shadowBlur = 5;
            ctx.strokeRect(x - size, y - size, size * 2, size * 2);
        }
        
        // ç»˜åˆ¶è±å½¢
        function drawDiamond(ctx, x, y, size, color) {
            const gradient = ctx.createRadialGradient(x, y, 0, x, y, size);
            gradient.addColorStop(0, color);
            gradient.addColorStop(1, darkenColor(color, 0.4));
            
            ctx.fillStyle = gradient;
            ctx.shadowColor = color;
            ctx.shadowBlur = 10;
            ctx.beginPath();
            ctx.moveTo(x, y - size);
            ctx.lineTo(x + size, y);
            ctx.lineTo(x, y + size);
            ctx.lineTo(x - size, y);
            ctx.closePath();
            ctx.fill();
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.shadowBlur = 5;
            ctx.stroke();
        }
        
        // ç»˜åˆ¶ç§‘å¹»ä¾§è¾¹æ 
        function drawSciFiSidebar(ctx) {
            const sidebarWidth = 200;
            const sidebarX = canvas.width - sidebarWidth;
            
            // ç»˜åˆ¶èƒŒæ™¯
            const gradient = ctx.createLinearGradient(sidebarX, 0, sidebarX + sidebarWidth, 0);
            gradient.addColorStop(0, 'rgba(0, 255, 255, 0.15)');
            gradient.addColorStop(0.5, 'rgba(0, 128, 255, 0.2)');
            gradient.addColorStop(1, 'rgba(0, 64, 255, 0.25)');
            ctx.fillStyle = gradient;
            ctx.fillRect(sidebarX, 80, sidebarWidth, canvas.height - 160);
            
            // ç»˜åˆ¶å‘å…‰è¾¹æ¡†
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 3;
            ctx.shadowColor = '#00ffff';
            ctx.shadowBlur = 8;
            ctx.strokeRect(sidebarX, 80, sidebarWidth, canvas.height - 160);
            
            // ç»˜åˆ¶è£…é¥°æ€§ç½‘æ ¼
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 1;
            ctx.globalAlpha = 0.3;
            for (let y = 90; y < canvas.height - 170; y += 20) {
                ctx.beginPath();
                ctx.moveTo(sidebarX + 10, y);
                ctx.lineTo(sidebarX + sidebarWidth - 10, y);
                ctx.stroke();
            }
            ctx.globalAlpha = 1;
            
            // ç»˜åˆ¶æ ‡é¢˜
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 18px Arial';
            ctx.textAlign = 'center';
            ctx.shadowColor = '#00ffff';
            ctx.shadowBlur = 5;
            ctx.fillText('ç§‘å¹»ä¾§è¾¹æ ', sidebarX + sidebarWidth/2, 105);
            ctx.shadowBlur = 0;
        }
        
        // ç»˜åˆ¶çŸ¥è¯†åº“æŒ‰é’®
        function drawKnowledgeButton(ctx) {
            const buttonWidth = 120;
            const buttonHeight = 40;
            const x = canvas.width - buttonWidth - 20;
            const y = 90;
            
            // ç»˜åˆ¶æŒ‰é’®èƒŒæ™¯
            const buttonGradient = ctx.createLinearGradient(x, y, x, y + buttonHeight);
            buttonGradient.addColorStop(0, 'rgba(0, 255, 255, 0.8)');
            buttonGradient.addColorStop(0.5, 'rgba(0, 128, 255, 0.9)');
            buttonGradient.addColorStop(1, 'rgba(0, 64, 255, 0.8)');
            
            ctx.fillStyle = buttonGradient;
            ctx.shadowColor = '#00ffff';
            ctx.shadowBlur = 15;
            ctx.fillRect(x, y, buttonWidth, buttonHeight);
            ctx.shadowBlur = 0;
            
            // ç»˜åˆ¶å‘å…‰è¾¹æ¡†
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 3;
            ctx.shadowColor = '#00ffff';
            ctx.shadowBlur = 8;
            ctx.strokeRect(x, y, buttonWidth, buttonHeight);
            
            // ç»˜åˆ¶åŠ¨æ€å…‰ç‚¹æ•ˆæœ
            const time = Date.now() * 0.005;
            const pulseAlpha = 0.6 + Math.sin(time) * 0.2;
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 1;
            ctx.globalAlpha = pulseAlpha;
            ctx.strokeRect(x + 2, y + 2, buttonWidth - 4, buttonHeight - 4);
            ctx.globalAlpha = 1;
            
            // ç»˜åˆ¶æ–‡å­—
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.shadowColor = '#00ffff';
            ctx.shadowBlur = 5;
            ctx.fillText('ğŸ“š çŸ¥è¯†åº“', x + buttonWidth/2, y + buttonHeight/2 + 5);
            ctx.shadowBlur = 0;
        }
        
        // ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯
        function drawGrid() {
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 1;
            ctx.globalAlpha = 0.3;
            
            for (let x = 0; x <= canvas.width; x += 40) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            
            for (let y = 0; y <= canvas.height; y += 40) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            
            ctx.globalAlpha = 1;
        }
        
        // é¢œè‰²å˜æš—å‡½æ•°
        function darkenColor(color, factor) {
            const r = parseInt(color.slice(1, 3), 16);
            const g = parseInt(color.slice(3, 5), 16);
            const b = parseInt(color.slice(5, 7), 16);
            
            const newR = Math.floor(r * (1 - factor));
            const newG = Math.floor(g * (1 - factor));
            const newB = Math.floor(b * (1 - factor));
            
            return `#${newR.toString(16).padStart(2, '0')}${newG.toString(16).padStart(2, '0')}${newB.toString(16).padStart(2, '0')}`;
        }
        
        // åŠ¨ç”»å¾ªç¯
        function animate() {
            // æ¸…ç©ºç”»å¸ƒ
            ctx.fillStyle = '#0a0a2a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶ç½‘æ ¼
            drawGrid();
            
            // ç»˜åˆ¶æŒ‡æŒ¥å®˜
            if (showCommander) {
                drawSciFiCircle(ctx, commanderX, commanderY, 25, '#00ffff');
                
                // ç»˜åˆ¶æŒ‡æŒ¥å®˜æ ‡è¯†
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('CMD', commanderX, commanderY + 5);
            }
            
            // ç»˜åˆ¶å¨èƒ
            if (showThreats) {
                threats.forEach(threat => {
                    drawThreat(ctx, threat.x, threat.y, threat.type, threat.color);
                });
            }
            
            // ç»˜åˆ¶ä¾§è¾¹æ 
            if (showSidebar) {
                drawSciFiSidebar(ctx);
            }
            
            // ç»˜åˆ¶çŸ¥è¯†åº“æŒ‰é’®
            if (showKnowledge) {
                drawKnowledgeButton(ctx);
            }
            
            // ç»˜åˆ¶è¯´æ˜æ–‡å­—
            ctx.fillStyle = '#ffffff';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ç§‘å¹»ç•Œé¢ç»¼åˆæµ‹è¯• - å¢å¼ºå¯è§†åŒ–ä½“éªŒ', canvas.width/2, 50);
            
            requestAnimationFrame(animate);
        }
        
        // æ§åˆ¶å‡½æ•°
        function toggleCommander() {
            showCommander = !showCommander;
            console.log('æŒ‡æŒ¥å®˜æ˜¾ç¤ºçŠ¶æ€:', showCommander);
        }
        
        function toggleThreats() {
            showThreats = !showThreats;
            console.log('å¨èƒæ˜¾ç¤ºçŠ¶æ€:', showThreats);
        }
        
        function toggleSidebar() {
            showSidebar = !showSidebar;
            console.log('ä¾§è¾¹æ æ˜¾ç¤ºçŠ¶æ€:', showSidebar);
        }
        
        function toggleKnowledge() {
            showKnowledge = !showKnowledge;
            console.log('çŸ¥è¯†åº“æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€:', showKnowledge);
        }
        
        // å¯åŠ¨åŠ¨ç”»
        animate();
        
        console.log('ğŸ® ç§‘å¹»ç•Œé¢ç»¼åˆæµ‹è¯•å·²å¯åŠ¨');
        console.log('âœ¨ ç‰¹æ€§ï¼šç§‘å¹»åœ†åœˆã€æµ…äº®è‰²å¨èƒã€ç§‘å¹»ä¾§è¾¹æ ã€åŠ¨æ€çŸ¥è¯†åº“');
    </script>
</body>
</html> 